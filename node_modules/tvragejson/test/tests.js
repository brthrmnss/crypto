var assert = require("assert"),
    nock = require('nock')
    TVRage = require("../lib/tvrage");

describe('API', function() {
    describe('search', function() {
        nock('http://services.tvrage.com')
            .get('/feeds/search.php?show=Mentalist')
            .replyWithFile(200, __dirname + '/search.xml');;

        it('should return search results', function() {
            TVRage.search("Mentalist", function(response) {
                var actualResult = response['Results'];
                assert.equal(actualResult, 12);
            });
        });
    });
});