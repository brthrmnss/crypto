/**
 * Created by user1 on 2/7/14.
 *
 *
 * 1 find content on piratebay
 * 2 download content via put.io to blasdf
 * 3 iterate over content, add rotten tomato information
 * 4 add new content to db
 *
 * insight:  seperate rotten as a later step
 * get content first
 */

/**
 *
 */

var sh = require('shelpers').shelpers

function CommandRunnerTests() {

    var p = CommandRunnerTests.prototype;
    p = this;
    var self = this;

    self.go = function go(options) {

    }

    function createLogic() {
        p.logic = {}
        /**
         * return urlMagnet
         * @param token
         * @param cb
         */
        p.logic.returnMagnetLink = function returnMagnetLink(token, cb) {
            self.proc(token.torrentName)
            cb()
            token.fxCallback(token.urlMagnet)

        }
    }
    createLogic();

    p.proc = function proc() {
        sh.sLog(arguments)
    }
}

if (module.parent == null) {
    var args = process.argv.splice(2);

    if ( args.length > 0 ) {
        var options = {}
        options.callback = function onDone(url) {
            console.log('done', url)
        }

        var firstArg = args[0]
        options.query = query;

        var go = new PromiseHelperTemplate()

        if (args.length == 2) {
            var dirDownload = args[1]
            options.dirDownload = dirDownload;
        }

        go.go(options);
        return;
    }
}